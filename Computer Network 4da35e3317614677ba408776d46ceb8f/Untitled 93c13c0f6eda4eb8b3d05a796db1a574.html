<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>第一章 介绍</title><style>
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, YuMincho, "Yu Mincho", "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Songti TC", "Songti SC", "SimSun", "Nanum Myeongjo", NanumMyeongjo, Batang, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, YuMincho, "Yu Mincho", "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Songti TC", "Songti SC", "SimSun", "Nanum Myeongjo", NanumMyeongjo, Batang, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.highlight-default {
}
.highlight-gray {
	color: rgb(155,154,151);
}
.highlight-brown {
	color: rgb(100,71,58);
}
.highlight-orange {
	color: rgb(217,115,13);
}
.highlight-yellow {
	color: rgb(223,171,1);
}
.highlight-teal {
	color: rgb(15,123,108);
}
.highlight-blue {
	color: rgb(11,110,153);
}
.highlight-purple {
	color: rgb(105,64,165);
}
.highlight-pink {
	color: rgb(173,26,114);
}
.highlight-red {
	color: rgb(224,62,62);
}
.highlight-gray_background {
	background: rgb(235,236,237);
}
.highlight-brown_background {
	background: rgb(233,229,227);
}
.highlight-orange_background {
	background: rgb(250,235,221);
}
.highlight-yellow_background {
	background: rgb(251,243,219);
}
.highlight-teal_background {
	background: rgb(221,237,234);
}
.highlight-blue_background {
	background: rgb(221,235,241);
}
.highlight-purple_background {
	background: rgb(234,228,242);
}
.highlight-pink_background {
	background: rgb(244,223,235);
}
.highlight-red_background {
	background: rgb(251,228,228);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(55, 53, 47, 0.6);
	fill: rgba(55, 53, 47, 0.6);
}
.block-color-brown {
	color: rgb(100,71,58);
	fill: rgb(100,71,58);
}
.block-color-orange {
	color: rgb(217,115,13);
	fill: rgb(217,115,13);
}
.block-color-yellow {
	color: rgb(223,171,1);
	fill: rgb(223,171,1);
}
.block-color-teal {
	color: rgb(15,123,108);
	fill: rgb(15,123,108);
}
.block-color-blue {
	color: rgb(11,110,153);
	fill: rgb(11,110,153);
}
.block-color-purple {
	color: rgb(105,64,165);
	fill: rgb(105,64,165);
}
.block-color-pink {
	color: rgb(173,26,114);
	fill: rgb(173,26,114);
}
.block-color-red {
	color: rgb(224,62,62);
	fill: rgb(224,62,62);
}
.block-color-gray_background {
	background: rgb(235,236,237);
}
.block-color-brown_background {
	background: rgb(233,229,227);
}
.block-color-orange_background {
	background: rgb(250,235,221);
}
.block-color-yellow_background {
	background: rgb(251,243,219);
}
.block-color-teal_background {
	background: rgb(221,237,234);
}
.block-color-blue_background {
	background: rgb(221,235,241);
}
.block-color-purple_background {
	background: rgb(234,228,242);
}
.block-color-pink_background {
	background: rgb(244,223,235);
}
.block-color-red_background {
	background: rgb(251,228,228);
}
.select-value-color-default { background-color: rgba(206,205,202,0.5); }
.select-value-color-gray { background-color: rgba(155,154,151, 0.4); }
.select-value-color-brown { background-color: rgba(140,46,0,0.2); }
.select-value-color-orange { background-color: rgba(245,93,0,0.2); }
.select-value-color-yellow { background-color: rgba(233,168,0,0.2); }
.select-value-color-green { background-color: rgba(0,135,107,0.2); }
.select-value-color-blue { background-color: rgba(0,120,223,0.2); }
.select-value-color-purple { background-color: rgba(103,36,222,0.2); }
.select-value-color-pink { background-color: rgba(221,0,129,0.2); }
.select-value-color-red { background-color: rgba(255,0,26,0.2); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="93c13c0f-6eda-4eb8-b3d0-5a796db1a574" class="page sans"><header><img class="page-cover-image" src="https://www.notion.so/images/page-cover/rijksmuseum_jansz_1636.jpg" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">📌</span></div><h1 class="page-title">第一章 介绍</h1></header><div class="page-body"><nav id="b8309c40-f2e1-4a93-a160-1f613e699077" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#6f99f1e3-e3e1-4670-8516-535e35da14e0">一、简介</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5b915597-b37a-4c23-91bb-0657a9e18277">二、<strong>网络边缘</strong>：</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#aa6a6eb1-1356-438e-9cc1-6f6037b54ec8">三、网络核心</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#a1b3edbb-5182-4ec7-8d80-f91688a7c5d0">三、网络拓扑结构：网络之网络</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#97d6b27e-e3b1-4aaf-89b9-48a2850395b8">四、网络的性能参数</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#370b8958-95a7-4241-accf-63e4c6767827">五、协议分层及其服务模型</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#53a32f65-6f31-4d92-a6ec-0540dbcf3e70">分层体系结构</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#49238af4-2ecb-4b82-a3ce-53777c8dd064">OSI架构中的数据流和对等通信</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#df1394ff-e09c-4f49-8e99-3b4769cd2832">First Layer 物理层</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#42b14fcd-433b-4d6b-8c20-4c477538409b">Second Layer 数据链路层</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e22cdb9e-14dc-451d-906f-fe5705b06eb0">Third Layer 网络层</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#65e01e4b-fce9-4298-87c3-911513d4522d"><mark class="highlight-red">ARP——Address Resolution Protocol 地址解析协议</mark></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#6b08a81c-b039-4d4c-9761-574564aa352d">Fourth Layer 传输层</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#ad76ee0b-4b12-4ee3-8aa4-b7386da2ca19">Fifth Layer 会话层</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a53cc85f-3071-4641-a52d-e8ece9320761">Sixth Layer 表示层</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#29eb4573-7def-4751-8991-c72c30699e32">Seventh Layer 应用层</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#982a6d14-659b-4a59-92f5-549599614743">英特网协议栈</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e22c4ac2-ee7e-42dd-8442-c3762405e3c9">OSI架构小结</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#133c3b31-5f8b-4f6a-b713-003fa874dd4b">物理通信和逻辑通信：</a></div></nav><h1 id="6f99f1e3-e3e1-4670-8516-535e35da14e0" class="">一、简介</h1><p id="62802758-7ed6-446b-8742-d2424cf4dfb3" class="">因特网的两种描述方法</p><ol id="3261a039-5775-45fa-a6e6-a470c41b27f5" class="numbered-list" start="1"><li>根据它的硬件和软件组件来描述<ul id="84142554-0119-476e-bb66-16b9f4487a05" class="bulleted-list"><li>端系统通过<strong>通信链路</strong>和<strong>分组交换机</strong>连接到一起, 包括路由器（网络核心）和链路层交换机（接入网）端系统通过因特网服务提供商（ISP）接入因特网</li></ul><ul id="97885250-e821-46b7-bb9b-53e4fd3555e9" class="bulleted-list"><li>端系统、分组交换机和其他的因特网部件都需要运行一系列<strong>协议 TCP/IP为主要协议 (还有诸如以太网、Skype、http等)</strong></li></ul></li></ol><ol id="379b827b-50b2-490b-85cf-533e4eae987c" class="numbered-list" start="2"><li>根据它的细节：<ol id="786895ab-8fdd-4dc7-915b-9f4e66416427" class="numbered-list" start="1"><li>协议：定义两个或多个通信实体之间交换的报文格式和次序，和报文发送和接收一条报文或其他时间所采取的动作。<ul id="cfb2fbbc-2a80-49c4-ae67-334cb4e60cc6" class="bulleted-list"><li>格式——语法</li></ul><ul id="a67a5f5b-00e8-42c4-9005-d3aba577a62c" class="bulleted-list"><li>次序——时序</li></ul><ul id="e6e57ded-14d0-43ff-bc08-883b1c00d70f" class="bulleted-list"><li>动作——语义</li></ul></li></ol><ol id="dc4238c6-e4e5-48f7-be1c-da715e433b1d" class="numbered-list" start="2"><li>计算机网络：网络之网络<ol id="d937b5a4-bcbc-41df-9a8b-d0e2a3bfe8e6" class="numbered-list" start="1"><li>互联的ISP</li></ol><ol id="53bead26-3d76-455b-ade3-6502b3c59e06" class="numbered-list" start="2"><li>松散的层次结构</li></ol><ol id="f9466537-ff54-4243-914d-efcd5cb57d46" class="numbered-list" start="3"><li>公共网络和私有网络</li></ol></li></ol></li></ol><ol id="319bbdd3-b54c-43c3-86cf-0d9cb7eba4aa" class="numbered-list" start="3"><li>根据基础设施向分布式应用程序提供的服务来描述<ol id="8b28a26a-45f4-4d31-95c1-26f0f1d0184e" class="numbered-list" start="1"><li>允许分布式应用服务</li></ol><ol id="360a36bd-59da-435f-ae36-2ca39e34145c" class="numbered-list" start="2"><li>提供网络应用API，包括可靠的数据传输（源端到目的地）和高效（不可靠）的数据传输</li></ol><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="c1bd6777-07f4-47fe-a0ff-d5d0b50c8e0a"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">应用程序称为分布式应用程序。
因特网应用程序运行在端系统上，不运行在网络核心中的分组交换机中。与因特网相连的端系统提供了一个应用程序编程接口规定运行在一个端系统的软件请求因特网基础设施向另一个端系统上特定目的地软件交付数据的方式。</div></figure></li></ol><ol id="6e1e2b80-377b-4682-b48b-fef5d44fe7fe" class="numbered-list" start="4"><li>网络标准： RFC、IETF</li></ol><h1 id="5b915597-b37a-4c23-91bb-0657a9e18277" class="">二、<strong>网络边缘</strong>：</h1><p id="c480a239-1699-4e41-a05c-f24893e7b4f1" class="">主机/端系统（与因特网相连的计算机和其他设备，因为它们位于因特网边缘所以称为端系统，它们容纳运行程序）</p><ol id="c94ead74-27cc-48eb-9f01-250a9fb79d92" class="numbered-list" start="1"><li>主机两分类：<ul id="9610bc95-eb16-44e1-b90d-27a11eed5dd5" class="bulleted-list"><li>客户端：</li></ul><ul id="55f2fe6a-0318-4ce2-90ea-471369b5de25" class="bulleted-list"><li>服务器：大型数据中心</li></ul><p id="156a3255-f34d-4eb8-bebe-574e72eeed2d" class="">P2P 网络中，是对等的，区别于cs结构</p></li></ol><ol id="b23492a3-70e1-4014-93a8-f2cbb933ee1e" class="numbered-list" start="2"><li>接入网：将端系统物理连接到其边缘路由器的网络。<ol id="35c7f4df-a74c-4e55-9521-b57aa4d3fd55" class="numbered-list" start="1"><li>边缘路由器：端系统到任何其他远程端系统的路径上的第一台路由器</li></ol><ol id="36032e27-e0b5-4ed1-a152-43788e96664b" class="numbered-list" start="2"><li><strong>接入网三大类，不是严格划分</strong><ol id="9460e235-fe90-4f27-b102-560b2cbd8306" class="numbered-list" start="1"><li>家庭接入：DSL（DSL,电话）、HFC（电缆，电视）、<mark class="highlight-gray">FTTH（光纤到户）、卫星</mark><p id="76ca9ab7-a31e-439d-8669-25bb76eeb9a8" class="">最流行的是数字用户线和电缆</p><ul id="17aa23e5-91de-4a09-b6fa-42cc852e90ee" class="toggle"><li><details open=""><summary><strong>数字用户线 DSL：</strong>用户的本地电话公司是它的 ISP，独占</summary><p id="bc16bfaa-7a64-4eeb-bff5-066b0149f4d7" class="">
</p><figure id="b65cc530-cc3b-4a18-a197-a63a13c2c45d" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled.png"><img style="width:963px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled.png"/></a></figure><ol id="0b41f9b7-7c5f-44b7-8a8b-74d02d0c4019" class="numbered-list" start="1"><li>每个用户的 DSL 调制解调器使用现有的电话线（双绞铜线）与位于电话公司的本地中心局中的数字用户线接入复用器（DSLAM）交换数据</li></ol><ol id="ee5df897-41fb-42f5-9ce5-7b3d49378cf6" class="numbered-list" start="2"><li><strong>家庭的 DSL 调制解调器</strong>得到<strong>数字数据</strong>后将其<strong>转换为高音频</strong>，以通过电话线传输给本地中心局。<mark class="highlight-red">来自许多家庭的模拟信号在 </mark><mark class="highlight-red"><strong>DSLAM </strong></mark><mark class="highlight-red">处被</mark><mark class="highlight-red"><strong>转换回数字形式</strong></mark><mark class="highlight-red">。</mark></li></ol><ol id="dc47538b-8f9d-466a-be6e-9321f787fd32" class="numbered-list" start="3"><li>家庭电话线同时承载了数据 &amp; 传统的电话信号，他们用不同的频率进行编码(频分复用技术):划分为三个信道：【高速下行信道】，【中速上行信道】，【普通的双向电话信道】因此，一个电话呼叫和一个因特网连接能够同时共享 DSL 链路。</li></ol><ol id="c4f1bd56-ceae-4e75-88bc-2540b5ea3d22" class="numbered-list" start="4"><li>用户一侧，一个分配器把到达家庭的数据信号和电话信号分隔开，并将数据信号转发给DSL 调制解调器
电话公司一侧，在本地中心局，DSLAM 把数据和电话信号分隔开，并将数据送往因特网。（上千家庭与同一个 DSLAM 相连）</li></ol><ol id="193088d8-555a-4f07-bd40-135d327caf96" class="numbered-list" start="5"><li>DSL 为不对称接入：12Mbps 下行&amp;1.8Mbps 上行传输速率 or 55Mbps 下行&amp;15Mbps 下行传输速率<blockquote id="5bd3fb57-e828-4a83-82f1-03b492cb0de7" class="">对比: 传统电话线的拨号接入与 DSL 基于相同的模式：家庭的调制解调器经过电话线连接到 ISP 的调制解调器。但拨号接入比 DSL 慢巨多。</blockquote></li></ol></details></li></ul><ul id="7f612728-c55f-4367-b392-c8b1e78c822e" class="toggle"><li><details open=""><summary><strong>电缆因特网接入/混合光纤同轴系统 HFC: 共享</strong></summary><p id="a68991ab-455d-4c40-9f79-f9b7d5981966" class="">利用有线电视公司现有的有线电视基础设施。住宅从提供有线电视的公司获得了电缆因特网接入。该系统中应用了光纤和同轴电缆。</p><ol id="43d0ff4e-f25b-4bb6-be17-28b5d577a4d5" class="numbered-list" start="1"><li>电缆因特网接入需要特殊的调制解调器 <strong>电缆调制解调器</strong>，其是一个外部设备， 通过一个以太网端口连接到家庭 PC。（<strong>同 </strong>DSL 调制解调器）</li></ol><ol id="631c53f6-e6c0-4ea1-bd4a-f75834ce8d27" class="numbered-list" start="2"><li>电缆头端，电缆调制解调器端接系统（CMTS）将来自许多下行家庭中的电缆调制解调器发送的模拟信号转换回数字形式。<mark class="highlight-red">（</mark><mark class="highlight-red"><strong>同 </strong></mark><mark class="highlight-red">DSL 在 </mark><mark class="highlight-red"><strong>DSLAM </strong></mark><mark class="highlight-red">处被</mark><mark class="highlight-red"><strong>转换回数字形式</strong></mark><mark class="highlight-red">）</mark></li></ol><ol id="92471f62-621a-4d4f-8af9-8e6506833a38" class="numbered-list" start="3"><li>电缆调制解调器将 HFC 网络划分为<strong>下行</strong>和<strong>上行</strong>两个信道。（<strong>异 </strong>DSL（3））</li></ol><ol id="8ef91919-c7ff-4894-b673-00a824da17b8" class="numbered-list" start="4"><li>接入不对称，下行信道分配的传输速率比上行信道的高（<strong>同 </strong>DSL）</li></ol><ol id="310bb5b7-b48c-4694-8a83-e5810af7c8a1" class="numbered-list" start="5"><li>电缆因特网接入的重要特征：<strong>共享广播媒体</strong>。（<em>头下到家（下行速率才是用户可用的速率，但实际比这个低），家上向头）</em><ul id="55e54c94-058a-45e7-a7ec-bd943397efee" class="bulleted-list"><li>由头端发送的每个分组向下行经每段链路到每个家庭；</li></ul><ul id="76be85d3-07dd-4693-a874-84a807f64366" class="bulleted-list"><li>每个家庭发送的每个分组经上行信道向头端传输</li></ul><p id="4c4393db-427c-4d92-9bbd-c29e50fccca8" class="">所以，如果几个用户同时经下行信道下载一个视频文件，每个用户接受视频文件的实际速率将大大低于电缆总计的下行速率）</p><p id="7d0c720f-786a-4fd9-9e81-61c5ed16d84f" class="">若仅有很少用户访问网页，则每个用户都可以以全部的下行速率接收网页，因为用户很少在完全相同的时刻请求网页</p></li></ol><ol id="14fbcf81-db9e-4e49-b27a-3791c6ad54f0" class="numbered-list" start="6"><li>上行信道也共享，所以需要一个 <strong>分布式多路访问协议</strong>来协调传输和避免碰撞</li></ol></details></li></ul></li></ol><ol id="5917b605-5d9f-46b5-a900-b8ac9f0346cb" class="numbered-list" start="2"><li>企业接入：以太网、无线 LAN（Wifi）<ul id="bca210c7-5c73-415e-a3b1-9caadf776911" class="toggle"><li><details open=""><summary>以太网：</summary><p id="d4a66a1d-73ee-47d3-9ee1-30469d252eb9" class="">最流行的接入技术。以太网用户使用双绞铜线与一台以太网交换机相连，以太网交换机或该交换机网络再通过机构路由器与机构的 ISP 这一更大的因特网相连。</p></details></li></ul><ul id="a04d383d-7692-4473-9f3a-af5acc4568f6" class="toggle"><li><details open=""><summary>无限局域网LAN:</summary><p id="1ba44ff6-0368-4db1-807c-1a4ec900c56c" class="">无线用户从/到一个接入点发送/接收分组，该接入点与企业网连接（可能使用了有线以太网），企业网再与有线因特网相连。一个无线 LAN 用户必须位于接入点的几十米范围内。</p></details></li></ul></li></ol><ol id="cce3db4b-b124-4676-9794-5e97392d6221" class="numbered-list" start="3"><li>广域无线接入：<p id="812fdb1d-619d-4a68-b484-136ffe58b1a3" class="">Wi-Fi：端系统通过无线设备(即基站/无限路由器)接入到互联网中 
广域无线接入：由电信运营商提供，3G/4G/5G</p></li></ol></li></ol></li></ol><ol id="1bab8fdb-4f9f-4c1f-844a-7bc850754f79" class="numbered-list" start="3"><li>通信链路（物理媒介）:<p id="0529c90d-d5ef-4f40-b07d-21cd47a77858" class="">一个比特数据从一个端系统开始传输，当从源到目的地传输时，通过一系列 “传输器-接收器”对。对于每个传输器-接收器对，通过跨越一种物理媒体(physical medium)传播电磁波或光脉冲来发送该比特。由不同类型的物理媒体组成。不同的链路能够以不同的速率传输数据，链路的传输速率以比特/秒（bit/s or bps）度量。</p><ul id="a752cf46-689c-4fc7-bb22-b58f1e090f43" class="bulleted-list"><li>分类
该物理媒体可具有多种形状和形式，并且对沿途的每个传输器-接收器对而言不必具有相同的类型。<ul id="1b07bbe3-2901-47a4-88f0-2e3167610d13" class="bulleted-list"><li>导引型媒体(guided media)。对于导引型媒体，电波沿着固体媒体前行，如光缆、双绞铜线或同轴电缆。<ul id="498348cf-2a41-4d29-8956-19268c435a37" class="bulleted-list"><li>双绞线：三类和五类双绞线；五类双绞线分为 STP 带屏蔽的 UTP 不带屏蔽的</li></ul><ul id="0a8fac29-0803-4c34-ba66-a500023be7d6" class="bulleted-list"><li>同轴电缆：由两个铜导体组成，但是这两个导体是同心的而不是并行的，有很好的保护作用，同轴电缆能够达到较高的数据传输速率。</li></ul><ul id="ac58a7d9-6669-44f3-8719-d72a420fc112" class="bulleted-list"><li>光纤：是一种细而柔软的、能够导引光脉冲的媒体；每个脉冲表示个比特；光纤传输的比特速率极高；不受电磁干扰，光缆信号衰减极低，并且很难窃听；光纤成为长途引导型传输媒体，特别是跨海链路</li></ul></li></ul><ul id="ef43b4d0-ef7a-4e45-85ad-b1dfc353b486" class="bulleted-list"><li>非导引型媒体(unguided media)。对于非导引型媒体，电波在空气或外层空间中传播，例如在无线局域网或数字卫星频道中。
－ 陆地无线电信道：它不需要安装物理线路，并具有穿透墙壁、提供与移动用户的连接以及长距离承载信号的能力；要考虑传输环境/传输距离/数据传输的损耗</li></ul></li></ul><ul id="9d32dde5-70a0-4f85-bbce-4b96eb849d95" class="bulleted-list"><li>卫星无线电信道</li></ul><ul id="b4593240-1101-4b09-ad0e-ca48906c57c2" class="bulleted-list"><li>对比<figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="fbd6674b-4a10-4894-8fc8-74acd68936d3"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><strong>DSL：双绞铜线</strong>
<strong>HFC：光纤&amp;同轴电缆</strong>
<strong>以太网：双绞铜线</strong>
<strong>移动接入网：无线电频谱</strong></div></figure></li></ul></li></ol><h1 id="aa6a6eb1-1356-438e-9cc1-6f6037b54ec8" class="">三、网络核心</h1><ol id="ebe290e7-75a1-497a-b51b-d9ec918add98" class="numbered-list" start="1"><li>报文：
端系统彼此交换报文，报文可以执行<strong>控制</strong>功能，也可以包含<strong>数据</strong>。</li></ol><ol id="426d687e-c3a7-462c-bf3c-89c28695bb18" class="numbered-list" start="2"><li>分组：
为了从源端系统向目的端系统发送一个报文，源将长报文划分为较小数据块，称之为分组
当一台端系统要向另一台端系统发送数据时，发送端系统将数据分段，并为每段加上首部字节，由此形成的信息包为分组。分组通过网络发送到目的端系统，在目的端系统被装配成初始数据。</li></ol><ol id="bf491205-8465-4596-b87f-88cae6062074" class="numbered-list" start="3"><li>分组交换机：
从它的一条入通信链路接收到达的分组，并从它的一条出通信链路转发该分组。分组交换机分为两类：路由器&amp;链路层交换机。二者均是向最终目的地转发分组。<ul id="8a89568a-c3eb-4135-b7ec-f863f23f0269" class="bulleted-list"><li>路由器：用于网络核心中</li></ul><ul id="1718b9ac-8ae2-4af7-b998-2b670a6e73c1" class="bulleted-list"><li>链路层交换机：用于接入网中。</li></ul></li></ol><ol id="06693676-496c-43a1-80d4-acd6502027c2" class="numbered-list" start="4"><li>路径：
从发送端系统到接收端系统，一个分组所经历的一系列通信链路和分组交换机称为通过该网络的路径。<figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="da961a98-facc-4cf3-9a3a-0acff6c9695c"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><strong>分组——卡车（决定方向），通信链路——公路，分组交换机——交叉口，端系统——建筑物</strong></div></figure></li></ol><ol id="ce555c0c-5ceb-430d-affb-a13b5c2a4c08" class="numbered-list" start="5"><li>存储转发传输:
多数分组交换机在链路的输入端使用存储转发传输机制。即在交换机能够开始向输出链路传输该分组的第一个比特之前，必须接受到整个分组。<blockquote id="e56d32d3-7879-42a8-bc1d-c122e236b262" class="">存储转发时延/端到端时延:
<mark class="highlight-red">d=NL/R（L 个分组通过 N 条速率为 R 的链路组成的路径，注意源到目的地之间有 N-1 台路由器）</mark></blockquote><figure id="14cb0971-5cbc-4d50-8a7d-6b0e20dc437c" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%201.png"><img style="width:1463px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%201.png"/></a></figure></li></ol><ol id="0d59c845-7426-4ef6-8963-865a37b2c931" class="numbered-list" start="6"><li>输出缓存/输出队列:
每台分组交换机有多条链路与之相连。对于每条相连的链路，该分组交换机具有一个输出缓存，用于存储路由器准备发往那条链路的分组。</li></ol><ol id="718a9f94-45f0-4d6a-aa79-b51d8deace02" class="numbered-list" start="7"><li>排队时延:
到达的分组需要传输到某条链路，但该链路正忙于传输其他分组，该到达分组必须在输出缓存中等待。<strong>存储转发时延&amp;排队时延时延取决于网络的拥塞程度</strong>。</li></ol><ol id="cbec349b-f9a4-40f4-9965-8bc6263d379d" class="numbered-list" start="8"><li>分组丢失/丢包:
缓存空间大小有限，一个到达的分组发现该缓存已被其他等待传输的分组完全充满，则<strong>该到达的分组或已经排队的分组之一</strong>会被丢弃。</li></ol><ol id="1c7afdfd-923f-4e9c-8695-f21ac0783fee" class="numbered-list" start="9"><li>转发表:
每台路由器有一个转发表，用于将目的地址（或其一部分）映射成为输出链路。<figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="1797cf12-3096-4f9b-b623-879003a1c14a"><div style="font-size:1.5em"><span class="icon">🤣</span></div><div style="width:100%">1. 每条与分组交换机（路由器/链路分组交换机）相连的链路，该分组交换机都为其提供一个输出缓存
2.每台路由器都有一个转发表，来映射选择该分组走哪条输出链路(路由器使用分组的目的地址来索引转发表并决定适当的出链路)</div></figure></li></ol><ol id="e0879bd6-9aa6-4933-84ce-5f9f508a9a8a" class="numbered-list" start="10"><li>路由选择协议:
因特网用于自动设置路由器的转发表</li></ol><ol id="cd8b912e-e50d-40e0-99ba-8c68acd3cec5" class="numbered-list" start="11"><li>通过网络链路和交换机移动数据的方法<ul id="02bbef89-0e00-4e60-a82e-91395c8141f7" class="toggle"><li><details open=""><summary>电路交换，独占资源，使用多路复用可以共享。</summary><ol id="21add7e7-fb75-4fc2-b8d4-52f34d71acf0" class="numbered-list" start="1"><li>频分复用 FDM:
链路的频谱由跨越链路创建的所有连接共享，连接期间链路为每条连接专用一个频段。该频段的宽度为<strong>带宽</strong></li></ol><ol id="dedbc2d7-a170-4770-a471-349364a7e5c7" class="numbered-list" start="2"><li>时分复用 TDM:
时间被划分为固定期间的<strong>帧</strong>，每个帧又被划分为固定数量的<strong>时隙。</strong>当网络跨越一条链路创建一条连接时，网络在每个帧中为该连接指定一个时隙，这些时隙专门由该连接单独使用，一个时隙（在每个帧内）可用于传输该连接的数据。<figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="1b7c9721-f8c5-47d1-8df9-0d7c1692e9f4"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">1. 循环的 TDM 帧中，每条电路被分配相同的专用时隙;
2. TDM 一条电路的传输速率=帧速率*一个时隙中的比特数</div></figure><blockquote id="52a823b5-cced-4385-b683-784a71fa7d67" class=""><strong>FDM 每条电路连续地得到部分带宽
TDM 每条电路在时隙中周期性地得到所有带宽</strong></blockquote></li></ol></details></li></ul><ul id="47e8d40c-c836-4f5e-a30f-f3f45b497fed" class="toggle"><li><details open=""><summary>报文交换</summary><ol id="0657da78-6a9a-4ebe-aa86-7266493d8f35" class="numbered-list" start="1"><li>定义：端系统 A 要发给端系统 B 的大量数据，要由上一级系统一次性发完后下级系统一次性接收，接收完毕后一次性转发</li></ol><ol id="7b2a7a91-4df8-4dad-a245-18d45bfe3574" class="numbered-list" start="2"><li>弊端<ul id="5040140e-5787-485b-9025-d514320c7407" class="bulleted-list"><li>没有无限大的缓存的路由器可以一次性接收许多用户的上传</li></ul><ul id="fe750e22-4699-4eaf-a800-54e630626070" class="bulleted-list"><li>容错率极低，若接收到的数据出现错误，则整个数据包被全部丢弃，需要全部重新传输，导致整个线路中始终充斥大量数据包，而且大部分是无用的</li></ul></li></ol></details></li></ul><ul id="8f1802ca-0321-4192-99e8-02bc55ea20d0" class="toggle"><li><details open=""><summary>分组交换: 需要报文拆分和重组。链路共享为统计多路复用，按需共享
包括<strong>数据报网络</strong>(目的ip)和<strong>虚电路网络</strong>（发送数据之前发送虚呼叫建立逻辑通路，携带虚电路标识，保证顺序）</summary><p id="3ca81354-251c-4a55-8169-192574eaa8d1" class="">都需要竞争网络资源，所以会有时延和排队机制，如果满了也要丢包。</p><ol id="6de7780e-83ca-4479-8668-d28f85bcf68d" class="numbered-list" start="1"><li>每一个端到端的数据流分成组<ul id="9bdf6bc9-7df8-469f-8ebc-47f576816487" class="bulleted-list"><li>用户A组B组共享网络的资源</li></ul><ul id="f83bab87-ac54-4a37-a7cd-dc20d29f9cb2" class="bulleted-list"><li>每一个分组用全连接的带宽</li></ul><ul id="3318c26d-33e3-4554-a4e3-bf8cae2a3de7" class="bulleted-list"><li>资源按需分配</li></ul></li></ol><ol id="9adca30a-519a-479c-8767-a4e2c323c1f5" class="numbered-list" start="2"><li>资源竞争：<ul id="62f04371-21ef-458d-b996-392126403087" class="bulleted-list"><li>聚合的资源需求可以超过可用的数量</li></ul><ul id="cc692f7f-db2e-49b4-852d-a8fa48463832" class="bulleted-list"><li>拥塞：分组队列需要等待链路使用</li></ul><ul id="dfc61ebb-351a-4632-aa68-9b584771e5c5" class="bulleted-list"><li>存储和转发：分组每次向前”走一步“，节点在转发之前就受到了完整的分组</li></ul></li></ol><ol id="989d79f4-aaef-47fb-a78a-19ad87bf730f" class="numbered-list" start="3"><li>电路交换&amp;分组交换的区别<ol id="2a924c02-37d6-4d76-aa4a-c3a9a72cfbd5" class="numbered-list" start="1"><li>电路交换网络中预留了端系统间通信沿着路径所需要的资源（缓存、链路传输速率）而在分组交换网络中，这些资源则不是预留的。</li></ol><ol id="a9811701-8cec-410e-8366-dd93caf1f108" class="numbered-list" start="2"><li>电路交换不适合实时服务，因为它地端到端时延可变且不可预测但分组交换提供了更好地带宽共享，且比电路交换更简单有效成本低。</li></ol><ol id="ce864895-23fd-4826-9c92-84a9326d4207" class="numbered-list" start="3"><li>电路交换不考虑需求，预先分配了传输链路地使用，这使得已分配而并不需要地链路时间未被利用。分组交换按需分配链路使用，链路传输能力将在所有需要在链路上传输分组地用户之间逐分组的被共享。资源共享能力高。</li></ol><ol id="664c9831-d864-475a-9d11-6ef21352f335" class="numbered-list" start="4"><li>分组交换适用于猝发式传输，可以共享资源而且十分简单，无需建立呼叫。但是存在的分组丢包现象和时延，因此需要可靠的传输协议和拥塞控制。</li></ol><p id="ed30982d-6953-4354-b591-e861ceda9165" class="">注意报文交换。</p><figure id="91f78e6c-52cd-41cd-87a7-18cd116ddf6a" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%202.png"><img style="width:1489px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%202.png"/></a></figure><p id="79603277-109c-4556-b64a-27f63f13161c" class="">
</p><figure id="4aa0f4d7-329c-406f-96a6-826aba8d20df" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/image.jpg"><img style="width:4032px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/image.jpg"/></a></figure><p id="e687589d-f93e-4feb-8872-62881956ffd5" class="">分组交换比报文交换速度快很多。</p><p id="90488234-f6f4-4841-b1a8-9c3df0fc6112" class="">
</p><p id="2b4fbc1f-e917-4180-8c03-f8308f261a42" class="">
</p><p id="6dbed7ae-b065-44ca-bcdc-e31a4d7fb1f7" class="">例题</p><p id="2d27bf67-41b6-4cd3-8cb4-b620d3daee2e" class="">
</p><figure id="757114f7-9243-4dfb-91bd-1fca45c029d7" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/image%201.jpg"><img style="width:4032px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/image%201.jpg"/></a></figure><p id="6a16b9d9-81ed-47e8-9f58-3a9303646d46" class="">T1 = (980000+20*1000)*8/100000000  注意需要考虑头部的时间</p><p id="d0d343f7-0171-4e1a-9ad5-d4a5e795a084" class="">T2 =2*1000*8/100000000</p><p id="c8a064fe-dbfd-4045-bb57-0ca0c1d2d7b8" class="">总共是80.16ms</p><p id="d7e3e461-58d5-4b52-adbd-c045c769bf18" class="">
</p></li></ol></details></li></ul></li></ol><h1 id="a1b3edbb-5182-4ec7-8d80-f91688a7c5d0" class="">三、网络拓扑结构：网络之网络</h1><p id="cbcaa096-ced7-48b4-8fac-7f6d93956630" class="">英特网提供了面向连接的服务和无连接服务。</p><ol id="5d269d1a-018d-47c6-b530-8e5412e924e1" class="numbered-list" start="1"><li>端系统通过ISP（网络服务供应商）连接到网络，如居民公司和学校。</li></ol><ol id="7b24b412-491c-4859-80bb-ffe3d8cee126" class="numbered-list" start="2"><li>接入ISP自身相互连接，从而使得任意两台主机互联。也使得网络特别复杂。</li></ol><ol id="589dcfe1-fc15-4085-8fb4-ba1aaebc85b1" class="numbered-list" start="3"><li>网络结构：<ol id="ac45c5ef-1cba-473f-b2a5-9011da6d18d1" class="numbered-list" start="1"><li>用<strong>单一的全球</strong>承载 ISP 互联所有接入 ISP。全球承载ISP 是一个由路由器和通信链路构成的网络，其跨越全球，并且能为每个接入 ISP 提供接入路由器。该种网络结构建造耗资巨大，承载 ISP 向接入 ISP 收费，接入 ISP 被认为是客户(customer)，而全球承载 ISP 被认为是提供商(provider)。</li></ol><ol id="fb56133f-aa62-43c0-81eb-4b902a066f7f" class="numbered-list" start="2"><li>由<strong>多个公司建立的多个可以覆盖全球的全球承载 ISP</strong>，这就构建了它由数十万接入 ISP 和多个全球承载 ISP 组成，这些全球承载 ISP 是互联的， 客户可以能够根据价格和服务的函数，在多个竞争的全球承载提供商之间进行选择。</li></ol><ol id="a521db63-2ed5-4b61-b29a-bf113ff6b94b" class="numbered-list" start="3"><li>其他形式：<figure id="f07c7efc-befa-46b3-9e5c-8534194cb967" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%203.png"><img style="width:415px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%203.png"/></a></figure><ul id="1ce30dc0-1d59-4944-9e79-a21f70e68b41" class="bulleted-list"><li>除了第一层 ISP 外，其他 ISP 可以多宿(multi-home)，即一个 ISP 可以和两个或者更多的提供商 ISP 连接，当一个 ISP 多宿时，即使它的提供商之一出现故障，它仍然能够继续发送和接收分组；</li></ul><ul id="f97e298c-0d04-4926-995e-cd023130cfc1" class="bulleted-list"><li>位于相同等级结构层次的邻近一对 ISP 能够对等(peer)，即处于相同等级结果的临近 ISP 能够直接将它们的网络连到一起，使它们之间的所有流量经直接连接而不是通过上游的中间 ISP 传输。当两个 ISP 对等时，通常不进行结算，即任一个 ISP 不向其对等付费；</li></ul><ul id="8e510bee-b7ca-4590-94d9-67e86af4b8f9" class="bulleted-list"><li>第三方公司创建一个<strong>因特网交换点(Internet Exchange Point，IXP)</strong>(通常在一个有自己的交换机的独立建筑物中)，IXP 是一个汇合点，多个 ISP 能够在这里共同对等。</li></ul><ul id="2e231d45-0434-413e-8b08-919860e1eeb4" class="bulleted-list"><li>接入分级：校园网/企业网/PC 机用户---地区 ISP---地区 ISP---国家主干 ISP---一级 ISP</li></ul></li></ol></li></ol><h1 id="97d6b27e-e3b1-4aaf-89b9-48a2850395b8" class="">四、网络的性能参数</h1><ol id="dc64178e-8982-47ea-a1ba-dec5f5eb0d68" class="numbered-list" start="1"><li>速率：连接在计算机网络上的主机在数字信道上传送数据的速率 ，即数据率(data rate)或比特率(bit rate)。速率往往是指额定速率或标称速率。</li></ol><ol id="f6e41508-e0e6-4e93-a16e-be7dda7b52a0" class="numbered-list" start="2"><li>带宽：该信号所包含的各种成分所占据的频率范围。</li></ol><ol id="e0520c1d-0fdc-4ef4-9ac7-897ffaadbca9" class="numbered-list" start="3"><li>吞吐量：在单位时间内通过某网络的数据量，或者发送方接收方在单位时间内传输的数据量，受到带宽或网络额定速率限制<ul id="89193414-4162-4e78-a05d-f11c6cf8b7db" class="bulleted-list"><li>瞬时吞吐量：在给定时间点的速率</li></ul><ul id="61689ac3-a9ec-4b12-882d-160dfe44f40f" class="bulleted-list"><li>平均吞吐量：一段时间的速率</li></ul><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="6752945c-2a8d-4594-9613-278979bdaf99"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">瓶颈链路：三种情况 Rs入端口带宽，Rc出端口带宽</div></figure><ul id="3d65f84d-56e6-4f79-a374-62f49c39e4b5" class="bulleted-list"><li>Rs&lt;Rc：大概率没事，也有可能排队和丢包</li></ul><ul id="1bcd3fe1-9e43-45e9-b689-9f3c255a1790" class="bulleted-list"><li>Rs≥Rc：这种情况下，会在路由器中产生分组的排队和丢包</li></ul><p id="e110491d-d614-4a66-8205-6ea322bdadda" class="">原因：路由器出端口的链路带宽可以保证转发的速率，但是两个接收包之间的时间间隔是随机的，上一个没有发完，下一个又进来了，因此排队是不可预测的。</p></li></ol><ol id="8337210f-e2f7-4db4-8083-e4a08c0a35da" class="numbered-list" start="4"><li>利用率：<ul id="18267094-72ae-4b90-8539-b8973f8373c0" class="bulleted-list"><li>信道利用率指某信道有百分之几的时间是被利用的（有数据通过）。完全空闲的信道的利用率是零。</li></ul><ul id="6876e60e-37e1-4acc-a5ba-90406ea3210b" class="bulleted-list"><li>网络利用率则是全网络的信道利用率的<strong>加权平均值</strong></li></ul><ul id="1fb524e7-63f0-4fbe-85d8-162c57a871e3" class="bulleted-list"><li>信道利用率并非越高越好</li></ul></li></ol><ol id="a67cf83f-8e08-40bd-88a3-055f3159c372" class="numbered-list" start="5"><li>四大时延<ul id="d78e8dd4-4f1f-45fc-99fc-f59b895388dd" class="bulleted-list"><li>传输时延（发送时延）：发送数据时，数据块从结点进入到传输媒体所需要的时间。也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间。<mark class="highlight-red">只有在低链路带宽的设备中才考虑</mark><figure id="2b3560fd-c6ca-47c2-8e59-fc81473f0fce" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%204.png"><img style="width:233px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%204.png"/></a></figure></li></ul><ul id="25e89d28-1ff8-41d1-8140-e5a1d7271ec6" class="bulleted-list"><li>传播时延：数据包在信道当中传播所需要的时间，即数据包在物理介质中传输的时间。<mark class="highlight-red">传播时延仅在陆地低速率链路上才考虑，目前的同轴电缆等物理链路就不用考虑，无线的卫星通信等时延较大，要考虑</mark><figure id="a3fadbc1-b358-418e-810f-1020e427adf0" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%205.png"><img style="width:282px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%205.png"/></a></figure></li></ul><ul id="9e28e9a5-d49a-4678-9531-0dfc23d96299" class="bulleted-list"><li>排队时延：结点缓存队列中分组排队所经历的时延。排队时延的长短往往取决于网络中当时的通信量。
<mark class="highlight-red">一般最主要的时延就是排队时延。</mark></li></ul><ul id="e2b5a775-f3d9-4dc1-862b-06c566d48959" class="bulleted-list"><li>处理时延：检查分组首部和决定将该分组导向何处所需要的时间。<mark class="highlight-red">节点处理时延基本可以不用考虑，目前的节点处理速度很快</mark><figure id="739e2713-0222-4076-913c-2853e854ccc2" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%206.png"><img style="width:528px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%206.png"/></a></figure></li></ul></li></ol><ol id="176b06b2-e7ce-4125-9553-b3aef686b528" class="numbered-list" start="6"><li>往返时间RTT: 从发送端发送数据开始，到发送端收到来自接收端的确认（接收端收到数据后立即发送确认）总共经历的时间。</li></ol><ol id="a679272a-90ef-4705-b8e3-e32585130e29" class="numbered-list" start="7"><li>时延带宽积：比特流从A出发，经过传播时延后，从A到B之间的链路填满了比特，时延带宽积即是这段链路之间的比特量。公式为 时延(s)与带宽（b/s）的积</li></ol><ol id="999f6ca7-ee34-4f7a-900a-ac391fdb10f6" class="numbered-list" start="8"><li>流量强度：<p id="4f81d936-2a64-4262-89d3-5a0240ecbea7" class="">流量强度：𝐿𝑎/𝑅
R：表示链路带宽
L：表示分组长度
a：表示平均分组到达率，即单位时间内到达节点的分组数量</p><ul id="29712d33-478a-44f5-89c6-cace47d4eee9" class="bulleted-list"><li>流量强度趋近 0，平均排队时延很小</li></ul><ul id="16d4d285-e43f-4816-a4bd-f2093efd397d" class="bulleted-list"><li>流量强度趋近于 1，平均排队时延变大</li></ul><ul id="df54a0cc-bc04-42da-ba5f-7b857d2ad7b9" class="bulleted-list"><li>流量强度大于 1，则比特到达队列的平均速率超过从该队列传输出去的速率。在这种情况下，<mark class="highlight-red">该队列趋向于无界增加，并且排队时延将趋向无穷大</mark></li></ul></li></ol><ol id="ab42812d-8ae3-4570-9ff3-ade0bc8f9fd8" class="numbered-list" start="9"><li>Tracert程序：<ul id="bd5c4447-872b-4e42-b251-f1be8a13afef" class="bulleted-list"><li>定义：Tracert（跟踪路由）是路由跟踪实用程序，用于确定 IP 数据包访问目标所采取的路径。Tracert 命令使用 IP 生存时间 (TTL) 字段和 ICMP 错误消息来确定从一个主机到网络上其他主机的路由。</li></ul><ul id="0ad114ec-c499-4800-95d8-137e800159ba" class="bulleted-list"><li>原理：通过向目标发送不同 TTL 值的回应数据包，Tracert 诊断程序确定到目标所采取的路由。要求路径上的每个路由器在转发数据包之前至少将数据包上的 TTL 递减 1。数据包上的 TTL 减为 0 时，路由器应该将“ICMP 已超时”的消息发回源系统，源系统接收该消息即可得知路径上的路由器 IP 和到该节点所经过的时延。</li></ul><p id="5ebd98a4-ac33-4712-9e2e-f03680e95df1" class="">另外，向指定的端系统发送特殊的 SMP 数据包，每一组有三个数据包，同组的数据包的 TTL 值一致，因此到每个节点都会有三个消息返回源系统。</p><ul id="585f82b6-8ea1-44d2-b166-524ddba0cc2e" class="bulleted-list"><li>示例：
A 列表示从源系统到目标端系统 ( 例如：<a href="http://www.baidu.com/">www.baidu.com</a>) 所经过的路由器数量，即经过了几跳到达目标端系统；<figure id="dfc60a20-c8ae-4f00-a9b1-59f7fe6c0462" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%207.png"><img style="width:624px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%207.png"/></a></figure><p id="447741b3-ca80-46df-b708-e6c98567dd4a" class="">BCD 列，表示每组的三个数据包到达相应的路由器的时延，该时延是四种时延加和的总时延。可以看出，很少出现同一组三个数据包的时延一致的情况，就是因为到达一个路由器的数据包也会有不确定的延时；
E 表示该跳的路由器 IP 地址；
因为该排队时延随时间变化，分组 n 发送到路由器 n 的往返时延实际上能够比分组 n+1 发送到路由器 n+1 的往返时延更长。例如发送到路由器 6 的时延大于发送到路由器 7 的时延，即数据包到达路由器 6 的时候可能发生了较大的时延
</p></li></ul></li></ol><ol id="1973e806-d61f-4ccd-b5f1-0a183a00ef0f" class="numbered-list" start="10"><li>丢包：<p id="985274e5-3df8-423a-a859-39945113c372" class="">队列的容量有限，当分组到达且队列满的时候，就会发生丢包的现象，丢包一般会被前一个节点重传，或者就不传。</p></li></ol><h1 id="370b8958-95a7-4241-accf-63e4c6767827" class="">五、协议分层及其服务模型</h1><h2 id="53a32f65-6f31-4d92-a6ec-0540dbcf3e70" class="">分层体系结构</h2><ol id="6c84095b-5e2b-41eb-9176-572dd5c00b00" class="numbered-list" start="1"><li>分层
为了给网络协议的设计提供一个结构，网络设计者以分层（layer）的方式组织协议以及实现这些协议的网络硬件和软件。每个协议属于这些层次之一，就像航线体系结构中的每种功能属于某一层一样。</li></ol><ol id="d216ee7f-8bde-4a31-84af-8a32e35bdf1e" class="numbered-list" start="2"><li>服务模型
我们再次关注某层向它的上一层提供的服务（service），即所谓一层的服务模型（service model），每层通过在该层中执行某些动作或使用直接下层的服务来提供服务。</li></ol><ol id="86046f90-b7fe-47eb-92bf-1e754d98c6da" class="numbered-list" start="3"><li>计算机网络的体系结构<ul id="42b5202b-39e1-4330-9823-ba12f1c50501" class="bulleted-list"><li>相互通信的两个计算机系统必须高度协调工作才行，而这种“协调”是相当复杂的。</li></ul><ul id="0164add1-02fb-4030-a80d-7b99db1fde77" class="bulleted-list"><li>“分层”可将庞大而复杂的问题，转化为若干较小的局部问题，而这些较小的局部问题就比较易于研究和处理。</li></ul><ul id="ea890e37-ee5e-4e9b-bf33-503009763b4a" class="bulleted-list"><li>计算机网络的体系结构（architecture）是计算机网络的各层及其协议的集合。</li></ul><ul id="b984cc02-0b06-42e8-86fe-f45f131bd8a9" class="bulleted-list"><li>体系结构就是这个计算机网络及其部件所应完成功能的精确定义。</li></ul></li></ol><ol id="5dffc33b-d537-45aa-a231-09d3588735aa" class="numbered-list" start="4"><li>协议与划分层次的必要性<ul id="c87e2704-3c04-48e1-8129-8519e7971885" class="bulleted-list"><li>计算机网络中的数据交换必须遵守事先约定好的规则。</li></ul><ul id="62a6c2a3-132b-48f7-bb85-7edfa1f25176" class="bulleted-list"><li>这些规则明确规定了所交换的数据的格式以及有关的同步问题（同步含有时序的意思）。</li></ul><ul id="f22efed7-e72b-40ba-b2b2-c6d05f3e0849" class="bulleted-list"><li>网络协议(network protocol)，简称为协议，是为进行网络中的数据交换而建立的规则、标准或约定。</li></ul></li></ol><ol id="ee249f1e-0e3a-43d9-ab1d-b575188ab479" class="numbered-list" start="5"><li>网络协议的组成要素<ul id="183fb188-5ee3-4a1f-bb55-7965694d2645" class="bulleted-list"><li>语法:数据与控制信息的结构或格式 。</li></ul><ul id="ed82b390-ba92-4765-966b-9ff831d24d9b" class="bulleted-list"><li>语义:需要发出何种控制信息，完成何种动作以及做出何种响应。</li></ul><ul id="38f15fea-495e-401b-b176-8ef40b6dff5c" class="bulleted-list"><li>同步:事件实现顺序的详细说明</li></ul></li></ol><ol id="a8fdb3ef-4986-4f83-b227-4b9b8fe48bd6" class="numbered-list" start="6"><li>两种国际标准<ul id="27e4def0-810f-4efe-8b55-37b63f77154c" class="bulleted-list"><li>法律上的国际标准 OSI 并没有得到市场的认可。ISO 定义了 OSI(开放互联协议)，它只是一个模型，没有具体协议</li></ul><ul id="ede4758e-60e6-41da-b561-b1440ebaebcf" class="bulleted-list"><li>是非国际标准 TCP/IP 现在获得了最广泛的应</li></ul><ul id="05d77e59-2214-45db-aa46-2efa389d7719" class="bulleted-list"><li>TCP/IP 常被称为事实上的国际标准</li></ul></li></ol><ol id="8b1febdf-de25-4c14-8f57-f87c1fddb7b9" class="numbered-list" start="7"><li>划分层次的概念的实例<ul id="06648dde-208d-43b5-8408-ee6d77326196" class="bulleted-list"><li>文件传送模块：第一类工作与传送文件直接有关。确信对方已做好接收和存储文件的准备；双方协调好一致的文件格式。两个主机将文件传送模块作为最高的一层 。剩下的工作由下面的模块负责。
看起来像是主机 12 直接交互的，即逻辑通信，实际上是通过其下层模块的通信实现的<figure id="a11e46fc-6dfe-4165-ace7-fc4a539741c4" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%208.png"><img style="width:868px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%208.png"/></a></figure></li></ul><ul id="86cf82e4-87b1-4cdd-87e4-83ccbb8c2deb" class="bulleted-list"><li>通信服务模块：选择数据传输方式，面向连接服务还是无连接服务，选择稳定传送还是不是<figure id="853650da-fd74-4d12-9ed9-b1e90e54267b" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%209.png"><img style="width:836px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%209.png"/></a></figure></li></ul><ul id="ed7ed821-3503-4759-8c4a-557b184a0743" class="bulleted-list"><li>网络接入模块：具体传输时的物理实现细节，比如在哪个管脚加多大电压表示 1bit 等</li></ul></li></ol><h2 id="49238af4-2ecb-4b82-a3ce-53777c8dd064" class="">OSI架构中的数据流和对等通信</h2><p id="13daa5c0-c9a5-40e0-9b97-11104791384e" class="">每个层接收到上一层的数据，按照本层的协议进行重新包装添加头部或尾部信息，最后在物理层打包成比特流进行传输；</p><figure id="bf139ed6-fa17-484e-af0f-d058caa851bc" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2010.png"><img style="width:1245px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2010.png"/></a></figure><p id="69ecb6d7-2ce2-4755-833d-2cd192047e3e" class="">通信链路上连接的路由器接收到数据包后，层层打开数据包装，获取到目的 IP 后进行路由解析，再次分层打包后继续转发，最终到达目的端系统；
物理层-数据链路-网络层-传输层-会话层-表示层-应用层</p><figure id="5819ea4b-2d22-4d26-bb5d-36eb32740019" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2011.png"><img style="width:596px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2011.png"/></a></figure><ol id="67c1aae4-bdec-440f-88e1-94a541a7308e" class="numbered-list" start="1"><li>数据封装的意义
在封装后的数据中添加控制信息（以报头或尾部或两者的形式），以确保通信的准确性和安全性。封装后的数据称为协议数据单元（PDU），<mark class="highlight-red">其中，只有数据链路层封装头部和尾部，其他层仅仅添加了头部；</mark></li></ol><ol id="da2dfba9-b354-46e7-9451-b17026297dfd" class="numbered-list" start="2"><li>控制信息的分类<ul id="219feded-f09e-4db3-a0a7-93f59fd68e2a" class="bulleted-list"><li>地址：可以指示发送者和/或接收者的地址。包括：网络地址 IP、物理地址/网卡地址 MAC</li></ul><ul id="5ca30487-c376-45ba-b83d-21aa9f791b45" class="bulleted-list"><li>错误检测代码：某种帧检查序列</li></ul><ul id="c57cbf7b-0399-4a0d-b241-a60ca7888da1" class="bulleted-list"><li>协议控制：包含其他信息以实现协议功能，例如：优先级，服务质量和安全性</li></ul></li></ol><h2 id="df1394ff-e09c-4f49-8e99-3b4769cd2832" class="">First Layer 物理层</h2><figure id="711b58d9-7b40-4c50-95a1-5d3e50a1e51f" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2012.png"><img style="width:364px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2012.png"/></a></figure><p id="39f3ddaa-a36b-4db4-95d2-8b19c0a6f1db" class="">物理层的任务是将经过数据链路层包装的数据包中的一个一个比特从一个结点移动到下一个结点。在这层中与该链路（例如，双绞铜线、单模光纤）的实际传输媒体相关。</p><ul id="b6943778-a608-4c85-905e-c06eb20d0d3f" class="bulleted-list"><li>描述接口和媒体的物理特性-设备和传输媒体（例如网卡）之间的接口。它还定义了传输介质的类型（例如电线还是无线）</li></ul><ul id="2affcef5-4726-4b37-bfb5-8e05f9a05680" class="bulleted-list"><li>表示位：将位编码为电或光信号，并且定义了编码类型（例如 ASK 振幅键控或 FSK）</li></ul><ul id="b0f2e00b-2a36-4608-ac2e-b3f725507174" class="bulleted-list"><li>数据速率：定义数据的传输速率，每秒传输的数据位数</li></ul><ul id="c4d4fadb-0ca2-4001-881f-0cc9402d0201" class="bulleted-list"><li>位同步：发送方和接收方的时钟必须同步，接收方能够按照正确的顺序接收组合发送方发出的位数据</li></ul><ul id="c4213f55-aa25-481c-aafc-5f7be6a70535" class="bulleted-list"><li>线路配置：设备到介质的连接（点对点或多点配置）</li></ul><ul id="77a56d80-7c64-453c-9fbd-19aef28733d8" class="bulleted-list"><li>拓扑结构：要连接以形成网络的设备的配置（网状拓扑，星形拓扑，环形拓扑或总线拓扑）</li></ul><ul id="5406fefc-7067-425a-a3ba-aa76a0e2a470" class="bulleted-list"><li>传输模式：物理层还定义了两个设备之间的传输方向：单工，半双工或全双工</li></ul><h2 id="42b14fcd-433b-4d6b-8c20-4c477538409b" class="">Second Layer 数据链路层</h2><p id="ad205a5c-d7aa-4cee-8e3a-948330cc15bd" class="">数据链路层负责节点到节点的传递，它使物理层接收到的数据不丢不错的给上层即网络层。
<mark class="highlight-red">注意：链路层仅仅负责两个直接相连设备的点对点通信，中间不能经过其他设备的转发，即主机 A 通过物理链路直接到主机 B 的通信，也就是同一网络中的通信</mark></p><ul id="d7b60e28-433e-406d-a5e6-72b5f4cc24f1" class="bulleted-list"><li>组帧：数据链路层将从网络层接收的比特流划分为称为帧的可管理数据单元</li></ul><ul id="e420ede6-c6d3-4284-ace4-00522c56aeee" class="bulleted-list"><li>物理寻址：数据链路层将标头添加到划分好的每个帧中，以定义帧的发送方（源地址）和接收方（目标地址）的物理地址；<figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="7ff53002-821d-42de-9058-3250849a9464"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">注意： 
源物理地址即发送方的网卡地址 Mac，接收者的物理地址是直接相连的路由器或者主机的物理地址；另外，在总线型的网络拓扑结构中，任意两个设备都是直接相连的</div></figure></li></ul><ul id="2c81e813-e05d-4fb7-9203-9d2477ad286e" class="bulleted-list"><li>流量控制：如果接收方(直接相连的节点)吸收数据的速率小于发送方中产生的速率，则数据链路层将采用流控制机制以防止接收器不堪重负</li></ul><ul id="9daa51af-6b4d-41d2-aeb3-2a49d2be4144" class="bulleted-list"><li>错误控制机制：可以检测并重新传输损坏或丢失的帧，还可以防止帧重复。错误控制通常是通过在尾部控制中实现</li></ul><ul id="59087285-e6f7-4213-ba2d-d1cada14ecd5" class="bulleted-list"><li>访问控制：当一个或多个设备连接到同一链路即发生链路竞争时，必须使用数据链路层协议来确定哪个设备在任何给定时间都可以控制该链路。</li></ul><h2 id="e22cdb9e-14dc-451d-906f-fe5705b06eb0" class="">Third Layer 网络层</h2><p id="d947e0a2-201f-466d-92bc-3ead93ccac44" class="">网络层负责可能跨多个网络的数据包的源到目标传送，如果两个系统连接到同一链路，则不需要网络层，直接用物理地址 MAC 就行，不需要逻辑地址 IP。</p><ul id="7779e11b-f884-4ed2-8f48-93c230b5b935" class="bulleted-list"><li>逻辑寻址：网络层使用发件人的<strong>逻辑地址 IP</strong> 将标头添加到来自上层的传入数据包。指导数据包能从源地址传递到目的地址，如果数据包通过网络边界，则此<mark class="highlight-red">通用（逻辑）地址有助于区分数据包是属于源系统还是目标系统</mark></li></ul><ul id="9fb7f59b-72d5-4123-8b98-bb73cc88d2a2" class="bulleted-list"><li>路由：路由器（或网关）将独立的网络连接在一起，网络层通过路由器（网关）将数据包路由到其最终目的地。</li></ul><p id="28481673-2359-44ef-b6db-49cf8adaa66c" class="">
</p><h3 id="65e01e4b-fce9-4298-87c3-911513d4522d" class=""><mark class="highlight-red">ARP——Address Resolution Protocol 地址解析协议</mark></h3><ul id="326bfd88-e3ee-46c2-ae4e-f2dfcf7b1f77" class="toggle"><li><details open=""><summary>协议的层级从属问题</summary><ul id="6dec5433-2de3-417a-9d36-f117e372bdba" class="bulleted-list"><li>在 TCP/IP 模型中，ARP 协议属于 IP 层；</li></ul><ul id="3dbccaf0-45bf-41fc-a866-fdd8763a780a" class="bulleted-list"><li>在 OSI 模型中，ARP 协议属于链路层；</li></ul><figure id="b2595cf7-a5bb-4141-94c1-845a0d564b40" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2013.png"><img style="width:433px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2013.png"/></a></figure></details></li></ul><ul id="d96d21ea-c79f-4b18-9ffe-cd01f5c6ab99" class="toggle"><li><details open=""><summary>普通跨网段通信过程：主机 S 给跨网段的主机 D 发送数据包：</summary><ol id="f45b434b-e547-4a5f-8bc8-95a601ddbae2" class="numbered-list" start="1"><li><strong>网络层</strong>接收到上一层传过来的数据 Data 后，在其头部添加控制信息，其中包括源 IP 和目的 IP，上图中用字母代替即“S”和“D”；</li></ol><ol id="7afd4baf-fb76-4d76-89a1-69e25bd48b28" class="numbered-list" start="2"><li><strong>数据链路层</strong>接收到网络层包装后的数据包后，根据其在头部添加的目的IP，查询其 S 主机 ARP 缓冲池中的 ARP 列表，查询到目的 IP“D”对应 MAC的地址为 46，则在数据包头部封装源 MAC 地址“02”和目的 MAC 地址 “46”，该数据包直接通过链路发送给路由器；</li></ol><ol id="62d8f10a-7044-4fc0-b0d0-a06e1e1223f3" class="numbered-list" start="3"><li>该网段的路由器在接收到数据包后进行解析，当链路层解析出数据包的目的 IP 后查询路由器的 ARP 表，得知该 IP 对应从 MAC 为 23 的端口发出，目的 MAC 为 09，遂进行包装后直接发送给 MAC09.注意其<mark class="highlight-red">源 IP 和目的 IP 始终不变；</mark></li></ol><ol id="94340b90-d7e9-4500-8c23-8ee47dffabce" class="numbered-list" start="4"><li>MAC 地址为 09 的路由器接收到数据包后，进行同上的操作，最终发送到主机 D；</li></ol></details></li></ul><ul id="536ff2ab-7602-4255-b312-1f8b27377398" class="toggle"><li><details open=""><summary>同网段 ARP 工作原理</summary><ul id="103c17ea-c65f-4e21-9dbe-cc583e8f66e7" class="block-color-red bulleted-list"><li>问题引出：当处于同一网段的主机 S 要给主机 A 发送消息时，且主机 S 不知道主机 A 的MAC 地址。</li></ul><ul id="edef5761-667a-4f2b-832a-b433a6bd7b03" class="bulleted-list"><li>流程<ol id="15fccd4d-8406-413e-a59d-f408dfeb36b8" class="numbered-list" start="1"><li>当源主机需要将一个数据包要发送到目的主机时，源主机会首先检查自己 ARP 列表中是否存在目的主机 IP 地址对应的 MAC 地址；</li></ol><ol id="48b8bf3a-2259-456b-96ae-efceacf23322" class="numbered-list" start="2"><li>如果有，就直接将数据包发送到这个 MAC 地址，即普通 ARP 通信；</li></ol><ol id="1eb54d88-d529-4495-a781-df74c5765c37" class="numbered-list" start="3"><li>如果没有，就向本地网段发起一个 ARP 请求的广播包，查询此目的主机对应的 MAC 地址。此 ARP 请求数据包里包括源主机的 IP 地址 “S”、源 MAC 地址“02”、目的主机的 IP 地址“A”和<mark class="highlight-red">最关键的目的 MAC地址“ffffff”；</mark></li></ol><ol id="128c52be-f0da-4ef3-8d6d-4715da974574" class="numbered-list" start="4"><li>本地网段中所有的主机都会收到这个 ARP 请求。接收会检查数据包中的目的 IP 是否和自己的 IP 地址一致：
a)	如果不相同，就忽略此数据包；
b)	如果相同，则该主机就是要找的目的主机。该目的主机首先将发送端的 MAC 地址和 IP 地址添加到自己的 ARP 列表中，如果 ARP表中已经存在该 IP 的信息，则将其覆盖，然后给源主机发送一个 ARP 响应数据包，告诉对方自己是它需要查找的 MAC 地址；</li></ol><ol id="00de1c27-be06-416d-8d8d-b2d606186d2b" class="numbered-list" start="5"><li>源主机收到这个 ARP 响应数据包后，将得到的目的主机的 IP 地址和MAC 地址添加到自己的 ARP 列表中，并利用此信息开始数据的传输。如果源主机一直没有收到 ARP 响应数据包，表示 ARP 查询失败。</li></ol></li></ul><ul id="7c91a2ae-b1d7-4ac6-87b6-d27a3e5c22d0" class="bulleted-list"><li>示例：<p id="91480315-fdf5-4d53-888f-e7eb1708bd02" class="">A 的地址为：IP：192.168.10.1 MAC: AA-AA-AA-AA-AA-AA
B 的地址为：IP：192.168.10.2 MAC: BB-BB-BB-BB-BB-BB
A 要和 B 通讯，A 就需要知道 B 的 MAC 地址，于是 A 发送一个 ARP 请求广播（谁是 192.168.10.2 ，请告诉 192.168.10.1），当 B 收到该广播，就检查自己，结果发现和自己的一致，然后就向 A 发送一个 ARP 单播应答（192.168.10.2 在BB-BB-BB-BB-BB-BB）</p><p id="d53e5207-cd27-4fa3-89e0-131ad6d2796f" class="">
</p></li></ul></details></li></ul><ul id="7612a0e7-55b7-4515-9a7a-d7b48a46657c" class="toggle"><li><details open=""><summary>跨网段 ARP 工作原理</summary><figure id="17dab00f-22fa-4866-b95e-81a559fe52ed" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2014.png"><img style="width:415px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2014.png"/></a></figure><ul id="c4dbd5d9-bf44-430a-936f-424366afae40" class="bulleted-list"><li>引入: 主机 A 要向主机 B 发送消息，但是路由器的 MAC 和主机 B 的 MAC 未知</li></ul><ul id="08dcf91d-1efe-4bc3-b0b4-12015f622ece" class="bulleted-list"><li>流程<ol id="39f3ede8-ad32-452b-9fbb-8a1c2fc9d8c3" class="numbered-list" start="1"><li>主机 A 有数据发往主机 B，网络层完成源 IP 和目的 IP 封装后，查询ARP 表，ARP 查询结果：“我在 192.168.3.0/24 网段，目标地址在192.168.4.0/24,不属于同一网段，需要使用默认网关”；
<mark class="highlight-red">判断从属网段过程：源 IP 和其</mark><strong><mark class="highlight-red">子网掩码（通常情况下，子网掩码的表示方法和地址本身的表示方法是一样的）</mark></strong><mark class="highlight-red">按位与的结果与目的 IP 和同一个子网掩码按位与的结果相比较，若结果一致，则位于同一网段，若不一致，则位于不同网段</mark><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="88a25825-9f25-4ef3-8eb8-30a88d65d954"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">网段是指一个计算机网络中使用<strong>同一物理层直接通讯</strong>的那一部分。
<strong>网关是转发其他服务器通信数据的服务器，</strong>接收从客户端发送来的请求时，它就像自己拥有资源的源服务器一样对请求进行处理。有时客户端可能都不会察觉，自己的通信目标是一个网关。</div></figure></li></ol><ol id="1a77990e-878e-4e81-8000-2f4efc7f2589" class="numbered-list" start="2"><li>ARP 查询得知默认网关是 192.168.3.2，但是没有默认网关 MAC 地址，需要先进行查询；</li></ol><ol id="33e02788-daed-4faa-a909-37d98040894a" class="numbered-list" start="3"><li>主机 A 将数据包先放到缓存中，然后发送 ARP 查询报文：封装自己的 MAC 地址为源 MAC，目标 MAC 地址写全 F 的广播地址，请求网关 192.168.3.2 的 MAC 地址，然后以广播方式发送出去；</li></ol><ol id="a5249198-84ac-4034-a048-8e195800a4e9" class="numbered-list" start="4"><li>路由器收到广播数据包，首先将源 IP192.168.3.1 对应源 MAC：0800.0222.2222 添加到自己的 ARP 表中，若已存在则覆盖。路由器随后发现目的 IP 为自己的 IP，则回复一个 ARP 应答：封装自己的 IP地址为源 IP 自己的 mac 地址为源 mac，主机 A 的 IP 为目的 IP、主机 A 的 mac 为目的 mac，发送一个单播应答“我是 192.168.3.2.我的mac 地址为 0800.0333.2222”；</li></ol><ol id="46115d86-1a97-4471-9be4-0b2d35c3f2c7" class="numbered-list" start="5"><li>主机 A 收到应答后，将刚刚获知的默认网关 MAC 地址存到 ARP 表的对应条目下；然后将缓存中的数据包，在链路层封装目的 IP 为主机 B，目的 MAC 为默认网关 MAC 后发送；
在跨网关通信中，其他网段 IP 地址的 MAC 地址均为该网段的默认网关 MAC</li></ol><ol id="dc65bb56-56d8-4105-ba7f-b853dcde7a94" class="numbered-list" start="6"><li>路由器收到数据包，检查目的 IP 地址，发现与自己的不符，于是路由器查询本机路由表进行转发，查询后得知：需要发往 192.168.4.0网段中的 192.168.4.2 地址；
路由准备从相应接口上发送数据包，但是查询本机 ARP 表后，发现不知道目的 IP192.168.4.2 的 MAC 地址，因此进行广播 ARP 请求；路由器发送 ARP 请求查询主机 B 的 MAC 地址（原理同 2-4 步，主机 B 收到请求后首先会添加网关的 MAC 地址，然后单播回复 ARP请求）；</li></ol><ol id="828a528c-e993-40a7-825c-8372a713596d" class="numbered-list" start="7"><li>路由器收到主机 B 的 MAC 地址后，将其添加到本机 ARP 表中，然后将缓存中的数据进行封装，将自己的 MAC 地址为源 MAC，主机 B的 MAC 地址为目的 MAC，但源和目的 IP 地址不变，发送给主机 B；</li></ol><ol id="ad70a36b-ea73-487f-a768-109bf7fa8e96" class="numbered-list" start="8"><li>主机 B 收到数据之后，进行处理，发送过程结束；</li></ol><ol id="1833ca10-9052-4916-8b94-0fda55568117" class="numbered-list" start="9"><li>如果主机 B 收到数据后进行回复，主机 B 会进行地址判断，不在同一网段，然后决定将数据发送，网关收到数据后直接查询 ARP 表，将源 MAC 和目的 MAC 地址更改后转发。如此，主机 A 收到主机 B的回复；</li></ol></li></ul><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="5f67c477-0771-4361-8a9a-e77ca817a160"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">注意
1.	ARP 请求以广播发送、以单播回应；
2.	路由器隔离广播。每一个网段都是独立的广播域；
3.	跨越网段通信需要使用网关的 mac 地址；
4.	Mac 地址关注的是从节点 1 到节点 2 的一跳，每经过一个不同网络都会变化；而 IP 是关注的从源主机 A 到目的主机 B 的大方向，始终不变；</div></figure><blockquote id="2abd11d5-ca3e-4386-bdb3-b586e870fc64" class="block-color-red"><mark class="highlight-red">总结
1.	若查询 ARP 表未知目的 IP 的 MAC 地址时，将数据包放入缓冲区，采用 ARP </mark><strong><mark class="highlight-red">广播</mark></strong><mark class="highlight-red">的方式查询目的 IP 的 MAC 地址，目的主机收到广播的查询 ARP 请求后采取</mark><strong><mark class="highlight-red">单播</mark></strong><mark class="highlight-red">回复；
2.	判断是否位于同网段时，采用源 IP 和目的 IP 分别和源IP对应的子网掩码</mark><strong><mark class="highlight-red">按位与</mark></strong><mark class="highlight-red">的方法进行判断；
3.	经过路由器转发时，可能不止转发一次，每一次的转发都是拿着目的IP 地址去查询本节点的路由表，决定下一跳的 IP 地址，若下一跳MAC 未知，则再次采取广播 ARP；
4. ARP 表的条目有时限性，并且可以覆盖；</mark></blockquote></details></li></ul><h2 id="6b08a81c-b039-4d4c-9761-574564aa352d" class="">Fourth Layer 传输层</h2><ul id="40064195-0474-4147-9ce2-0fe02c744bd2" class="bulleted-list"><li>负责整个消息的源到目的地（end-to-end）传递。将从应用层递交下来的数据，进行分段，并且该层还确保整个消息完整无缺并按顺序到达</li></ul><ul id="eec92322-88cb-4fa7-a92e-6016471ea072" class="bulleted-list"><li>主要负责源系统 A 到目的系统 D 之间，不同的通信应用之间的通信，即该数据包是从源系统 A 的应用 1 发出，必须由目的系统 D 的相同应用接收</li></ul><ul id="79f20ee6-e86a-4e84-8f79-aa75b8a1c932" class="bulleted-list"><li>可以为消息中的所有数据包在源和目标之间建立逻辑路径（固定路径），以提高安全性。该层具有对排序、流和错误检测与纠正的更多控制</li></ul><ol id="f931a16f-77ad-4772-980d-0eccaefb16eb" class="numbered-list" start="1"><li>分段和重组：
不同应用的消息分为可传输的段（可以由网络层处理），每个段包含一个序列号，这些序列号保证用于在目标位置正确地重组，将分组再次合成完整的消息；</li></ol><ol id="b51ef13f-8b09-42c1-b24d-b3eae88c60c9" class="numbered-list" start="2"><li>服务点寻址：
传输层通过在其标头中包含<mark class="highlight-red">服务点地址（端口地址）</mark>，负责将整个消息传递到计算机上正确的进程。因为目的主机可能正在运行多个网络程序，目的主机传输层可以根据头部控制消息，区分出这个小数据包是对应的哪个正在运行的网络进程。</li></ol><ol id="0c0f0249-dead-48e6-9daa-8c6bad980818" class="numbered-list" start="3"><li>连接控制：
传输层可以是无连接的 UDP，也可以是面向连接的 TCP。无连接的传输层将每个段作为独立的数据包传递到目的地。面向连接的传输层首先与目的地处的传输层建立连接，然后传递数据包，然后发送所有数据。传输无误后，连接终止。</li></ol><ol id="5235cfe5-52af-44cd-a443-24ac04f0ca8f" class="numbered-list" start="4"><li>流量控制：
传输层执行端应用到端应用流量控制，这不同于负责单链路中流量控制的数据链路层。</li></ol><ol id="84ea6eb8-fc8f-46d2-a969-a408236ca178" class="numbered-list" start="5"><li>错误控制：
传输层执行端到端错误控制，以确保整个消息到达接收传输层而不会出错（损坏，丢失或重复）。纠错是通过<strong>重传</strong>完成的。</li></ol><p id="74a178d9-a349-487f-acaf-e8696495289e" class="">
</p><h2 id="ad76ee0b-4b12-4ee3-8aa4-b7386da2ca19" class="">Fifth Layer 会话层</h2><p id="18f61920-6e71-4659-b151-20684e6df432" class="">会话层是网络对话控制。它建立、维护和同步通信系统之间的交互。</p><figure id="3c147773-75d5-437d-a092-4fac75b64708" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2015.png"><img style="width:440px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2015.png"/></a></figure><ul id="2a7e3c54-168f-464a-acea-274a83d92a76" class="bulleted-list"><li>对话控制：
会话层允许两个系统进入对话。可以以半双工或全双工控制两个进程之间的通信。</li></ul><ul id="958621aa-48d7-48e3-964a-008b868f1fb4" class="bulleted-list"><li>同步：
会话层允许进程将<strong>检查点（同步点）</strong>添加到数据流中，当发生传输期间的数据丢失时，可以执行更有效的重新传输。即如果传输过程中发生了中断，下次的重新传输支持从断点<strong>重新传输</strong></li></ul><h2 id="a53cc85f-3071-4641-a52d-e8ece9320761" class="">Sixth Layer 表示层</h2><p id="f6c06269-2293-4198-8a70-b03c6fd9f27a" class="">表示层涉及两个系统之间信息交换的语法和语义</p><figure id="d72b87dc-dc25-4972-aa7d-3998030118e8" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2016.png"><img style="width:418px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2016.png"/></a></figure><ul id="834823a6-f5d4-4490-9069-f452b3551894" class="bulleted-list"><li>翻译：表示层将消息的与发件人相关的格式更改，从而让接收方能够理解</li></ul><ul id="82be57b9-4760-409e-8bfa-87395b56efd3" class="bulleted-list"><li>编码：为可以由任何接收系统读取的通用格式。加密表示层可以将原始信息转换为加密形式以确保隐私。</li></ul><ul id="c8bbabe5-bde4-4d37-ad2f-41956b4f7c84" class="bulleted-list"><li>压缩：数据压缩可以减少要传输的位数，这对于多媒体传输很重要。</li></ul><p id="3af64f24-2d34-4ca8-b346-99a36e6eec91" class="">
</p><h2 id="29eb4573-7def-4751-8991-c72c30699e32" class="">Seventh Layer 应用层</h2><figure id="c6429567-678b-40ec-bd36-cf9efe4ae48a" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2017.png"><img style="width:409px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2017.png"/></a></figure><ul id="a2563402-bf90-4b61-9f60-b246424908d9" class="bulleted-list"><li>网络虚拟终端：远程登录 Internet 中的其他主机，如Telnet</li></ul><ul id="60cafdf8-c92a-47ad-8022-5c2c9aad51da" class="bulleted-list"><li>文件传输、访问和管理：可从远程计算机上存储，检索或管理文件。例如，文件传输协议（FTP）</li></ul><ul id="5faf1202-bec0-4d4d-a866-f7d048ee8eda" class="bulleted-list"><li>邮件服务：例如简单邮件传输协议（SMTP）</li></ul><ul id="f606fd88-be12-42c1-91a4-cb772a6c2121" class="bulleted-list"><li>目录服务：访问全球信息和服务的方式，例如超文本传输协议 HTTP</li></ul><p id="1a2ebf71-6bcf-42f8-baa2-dcaed58b3799" class="">
</p><h3 id="982a6d14-659b-4a59-92f5-549599614743" class="">英特网协议栈</h3><p id="7f1e908d-979a-4204-a6d8-2730e041afde" class="">实际上TCP/IP没有会话层和表示层</p><ul id="ed25e7a5-750e-4aba-bdc6-66cb4e7f48e0" class="bulleted-list"><li>应用层：FTP,SMTP,HTTP</li></ul><ul id="c312a2dd-6f7a-40bd-94e5-9f87b0c89a51" class="bulleted-list"><li>传输层：TCP,UDP</li></ul><ul id="f13b006f-3c6c-4adf-82aa-b543a5f44e65" class="bulleted-list"><li>网络层：IP,routing protocols</li></ul><ul id="7905f1cb-bd66-48c7-aa08-9aedb4779a36" class="bulleted-list"><li>数据链路层：PPP,Ethernet</li></ul><ul id="e988a875-698e-4eec-8f55-0b989626dce8" class="bulleted-list"><li>物理层：写成比特流</li></ul><h2 id="e22c4ac2-ee7e-42dd-8442-c3762405e3c9" class="">OSI架构小结</h2><ol id="0073f11f-568e-4edc-b156-415beb3d0151" class="numbered-list" start="1"><li>发送：<figure id="81b1561f-1ace-4b47-b860-9b4762b6324c" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2018.png"><img style="width:525px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2018.png"/></a></figure></li></ol><ol id="72bdaebf-cce9-45e7-aeed-204a4e6c7f7a" class="numbered-list" start="2"><li>接收：<figure id="edda026a-21aa-4798-8e3e-20f5f49a1796" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2019.png"><img style="width:734px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2019.png"/></a></figure></li></ol><p id="5306a40f-05f0-437f-aa3e-5b6118586c9b" class="">
</p><h2 id="133c3b31-5f8b-4f6a-b713-003fa874dd4b" class="">物理通信和逻辑通信：</h2><ol id="eefb7d85-5930-478b-9274-c5fd966f4758" class="numbered-list" start="1"><li>逻辑通信
逻辑通信，指的是对于某一层来说，其感知不到下面的分层，逻辑上认为数据不是交给了下面的层，而是直接给了目的系统的对等层<figure id="a5cdc73c-f18f-48ec-97af-94b8ac9fcc22" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2020.png"><img style="width:256px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2020.png"/></a></figure><p id="8ee9bdd5-af86-4bd4-9f89-67712470f17b" class="">以传输层为例，采用 TCP 协议<div class="indented"><ul id="23778266-3f48-482f-adb0-a0dc37e72765" class="bulleted-list"><li>从应用程序获取数据</li></ul><ul id="89ce648a-712a-4f2b-bdb4-7e1379839008" class="bulleted-list"><li>添加寻址，可靠性检查信息以形成“数据报”</li></ul><ul id="23640cdd-5913-41c0-8fa4-763464be5403" class="bulleted-list"><li>发送数据报给目的系统的同级传输层</li></ul><ul id="5e3a3155-6c71-4c7c-a42e-ef5fa6988bb2" class="bulleted-list"><li>等待同伴确认</li></ul></div></p></li></ol><ol id="35fed027-3deb-4dc9-9b2c-00d816ef75b0" class="numbered-list" start="2"><li>物理通信
指从源系统发出的消息传送到目的系统所走过的实际物理路径，即一层层封装后化为比特流发送进入物理链路，接收方也按协议层次解析<figure id="7082fe13-92b4-4919-bb02-f1fa51b958f6" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2021.png"><img style="width:246px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2021.png"/></a></figure></li></ol><ol id="466ddca9-b69b-4df3-8e02-99c9f8b7abd7" class="numbered-list" start="3"><li>封装：
每层从上方获取数据，添加头部信息以创建新的数据单元，将新数据单元传递到下面的层
<strong>报文-段-数据报-帧-物理链路-帧-数据报-段-报文</strong><figure id="87936195-6c17-41be-a115-52613478ce75" class="image"><a href="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2022.png"><img style="width:732px" src="Untitled%2093c13c0f6eda4eb8b3d05a796db1a574/Untitled%2022.png"/></a></figure><p id="2ea372b3-a68d-4c85-9aa9-c644b32337dd" class="">
</p></li></ol></div></article></body></html>